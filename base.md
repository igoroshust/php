### Hello world
    <?php echo '<h1>Hello, world</h1> <br>' ?>

### Комментарии
// - однострочные <br>
/**/ - многострочные

### Вывод информации в PHP
echo (выводим строки с данными или переменные со строками) <br>
  
        echo "Hello, world";
        echo $name;

Пример конкатенации строк: <br>

      echo 'Hello '. 'from '. 'PHP '. 'by '. $name;
    
      // Можно также использовать `,` для echo (не рекомендуется)
      echo 'Hello ', 'from ', 'PHP ', 'by ', $name;
  
- print, print(); <br>
  Передаём значения для вывода на экран. В print нельзя передать несколько аргументов, а также при работе он возвращает 1, что делает его более медленным по сравнению с echo. С помощью этой конструкции можно проверить, была ли выведена информация на экран<br>
  
         print 'Hello from print';
      
         print('Hello, world!');
  
     Если результат print'a вывести в переменную, то будет 1, если в echo, то не будет ничего. 
  
         $test = print '';
         print $test; // 1
         echo $test; //
  
    Это полезная особенность, когда мы хотим использовать результат вызова print в логике кода или в условиях, например: 

        if (print('Hello')) { // Блок кода выполняется, т.к. print возвращает 1}

- print_r() - выводим информацию о массиве. Это встроенная функция в PHP, использующаяся для вывода информации о переменной в удобочитаемом формате. Она особенно полезна для откладки, так как позволяет быстро увидеть структуру массивов и объектов.

        $numbers = [1, 2, 3];
        print_r($numbers); // Array ([] => 1 [1] => 2 [2] = 3)
        echo($numbers); // ошибка
        print($numbers); // ошибка

    Пример удобочитаемого отображения массива:

      еcho "<pre>";
      print_r($numbers);
      еcho "</pre>";

  Вывод такой:

        Array
        (
              [0] => 1
              [1] => 2
              [2] => 3
        )
     

- var_dump() - распечатывает массивы и объекты с дополнительной технической информацией.

      $colors = ['red', 'green', 'blue']
            
      var_dump($colors);

  Вывод такой:

      /var/www/html/index.php:5:
      array (size=3)
        0 => string 'red' (length=3)
        1 => string 'green' (length=5)
        2 => string 'blue' (length=4) 

  C помощью var_dump можно увидеть распечатку false:

        $is_admin = true; <br>
        var_dump($is_admin); //  /var/www/html/index.php:5:boolean false

### Переменные
- camelCase: $userName = 'Igor';
- snake_case: $user_name = 'Igor';

$name = 'Igor';

Переменные в одну строку (не рекомендуется):

      $name1 = 'Igor'; $name2 = 'John;

Множественное присваивание: 

      $a = $b = $c = 50; // у каждой переменной значение 50

### Константы (неизменяемые переменные)
1. define(<название_константы>, <значение_константы>);

         define("SITE_NAME", "PHP tutorials");
         echo SITE_NAME; // без доллара!
    
2. const

         const NAME = 'John';
         echo NAME; // без доллара!

Существуют предопределённые константы (например, PHP_VERSION)

#### Константы в массиве (можно с PHP 7+)
    define('COLORS', ['Зелёный', 'Красный', 'Жёлтый']);
    print_r(COLORS);
    
    const NUMBERS = [1, 2, 3];
    print_r(NUMBERS);

### Типы данных

| Тип данных                     | Описание                           | Пример                                  
|--------------------------------|------------------------------------|-------------------------------------------|
| int (integer)                  | Целые числа                        | $age = 2;                                 |
| float (double)                 | Числа с плавающей точкой           | $price = 10.5;                            |
| string                         | Строки (текст)                     | $name = "Иван";                           |
| bool (boolean)                 | Булево значение (true, false)      | $is_admin = true;                         |
| array                          | Массивы                            | $fruits = ['Apple', 'Pine', 'Banana'];    |
| object                         | Объекты (экземпляры классов)       | $car = New Car();                         |
| null                           | Отсутствие значения                | $data = null;                             |
| resource                       | Внешний ресурс (файл, подключение к БД) | $file = fopen("file.txt", "r");      |

### Кавычки
- Двойные кавычки ("") ПОДДЕРЖИВАЮТ интерполяцию;

        echo "Ивану $age лет."; // Ивану 25 лет.
  
- Одинарные кавычки ('') НЕ ПОДДЕРЖИВАЮТ интерполяцию;

        $age = 25; 
        echo 'Иван $age лет.'; // ошибка

### Функции для проверки типов
- gettype(); - проверяет тип переменной <br>
- is_string(); <br>
- is_bool(); <br>
- is_int(); <br>

        if (is_int(85)) { echo "true, is int"; }; // проверяем истиность выражения с помощью предиката


### Конкатенация и интерполяция
- Конкатенация

        $name = 'Игорь';
        echo 'Привет ' . $name . "! Как дела?"; // конкатенация

- Интерполяция

        echo "Привет, $name! Как дела? <br><br>"; // интерполяция

Интерполяция при объединении переменной с символом в одно целое (используем '{}'):

    $fruit = 'яблок';
    echo "Я люблю {$fruit}o"; // Я люблю яблоко
    echo "Передай мне {$fruit}и"; // Передай мне яблоки


### Условия
    $hour = 3.5;
    
    if ($hour >= 4 && $hour < 12) {
        echo "Доброе утро!";
    } elseif ($hour >= 12 && $hour < 17) {
        echo "Добрый день!";
    } elseif ($hour >= 17 && $hour < 23) {
        echo "Добрый вечер!";
    } elseif ($hour == 23 || $hour == 00 || $hour < 4) {
        echo "Добрая ночь!";
    } else {
        echo "Значение вне диапазона";
    };

Другой вариант

    $userRole = "admin";
    
    if ($userRole == "admin" || $userRole == "moderator") {
        echo "Access enabled"; // доступ разрешён
    } elseif ($userRole == "user" || $userRole == "guest") {
        echo "Access denied";
    };

Пример обращения к пользователю по имени или никнейму

    function generateGreeting($name, $nickname)
    {
        return $name ? "Hello, {$name}!" : "Hello, {$nickname}!";
    }

### Сокращённая форма if-else
    $age = 4;
    if ($age <= 10) echo "Вы ребёнок!";


### Тернарный оператор
$переменная = (условие) ? true : false

    $age = 20;
    $message = ($age < 20) ? 'Тебе меньше 20' : 'Тебе больше 20';
    echo $message;

Пример вложенного тернарного оператора

    $score = 100;

    $level = ($score >= 90) ? "Отлично" :
             (($score >= 75) ? "Хорошо" :
             (($score >= 60) ? "Удовлетворительно" : "Неудовлетворительно"));
    
    echo "Уровень успеваемости: $level";

### Строгое и нестрогое равенство
- Нестрогое сравнение '==' / '!=' происходит с приведением типов ('5' == 5 -> true)
- Строгое сравнение '===' / '!===' без приведения типов ('5' === 5 -> false);
    
        $number = '5';
        if ($number !== 5) {
            echo "TRUE";
        } else {
            echo "FALSE";
        };

### Оператор ?? (оператор объединения с null или null-объединяющий оператор)
Позволяет проверить существование переменной. Если она есть, используем её значение, иначе - значение по умолчанию.

    $name = $_GET['name'] ?? 'Гость';
    echo "Привет, $name";

Вставляем в адресной строке '?name=Igor' и видим 'Привет, Igor';


### Быстрая вствка php-кода в html
<title><?php=$pagetitle?></title>

    $title = "Страница Контакты";
    $pagetitle = $title ?? "Супер сайт";
    
    ?> 
    
    <html>
        ...
        <title><?=$pagetitle?></title>
    </html>

### Switch
Условный оператор, альтернатива if-elseif-else. <br>
Используется, когда нужно проверить одно значение на несколько случаев. <br>
ВАЖНО: SWITCH проводит НЕСТРОГОЕ РАВЕНСТВО '==' (сравнение с приведением типов.

    $day = "понедельник";
    
    switch ($day) {
        case "понедельник":
            echo "Начало недели";
            break;
        case "среда":
            echo "Середина недели";
            break;
        case "пятница":
            echo "Скоро выходные";
            break;
        default:
            echo "Обычный день";
    }

Альтернативный вариант с умышленным отсутствием break, чтобы у нескольких значений была одна инструкция:

    switch ($day) {
        case "понедельник":
        case "вторник":
        case "среда":
        case "четверг":
        case "пятница":
            echo "Рабочая неделя";
            break;
        case "суббота":
        case "воскресенье":
            echo "Хороших выходных";
            break;
        default:
            echo "Нет такого дня";
    }

### Таблица истиных и ложных значений в PHP

| Значение                     | Истина (true) или ложь (false)                           | Почему?   |                               
|--------------------------------|------------------------------------|-------------------------------------------|
| true                  | true                       | очевидно                                |
| false               | false           | очевидно                           |
| 1, -1, любое ненулевое число                         | true                  | В PHP любые ненулевые числа являются true |
| 0             | false      | Ноль является false                      |
| "0" (строка с нулём)                          | false                              | Исключение: строка с нулём интерпретируется как false     |
| "" (пустая строка)                         | false       | Пустая строка - ложь                         |
| [] (пустой массив)        | false               | Пустой массив считается ложным                           |
| ['a', 'b'] (непустой массив)                 | true | Любой непустой массив считается true      |
| null                         | false       | null всегда ложное значение                      |
| new stdClass() (объект)        | true               | Любой объект считается true                           |
| fopen("file.txt", "r") (ресурс)                 | true | Открытый ресурс считается true     |

### match (оператор)
Улучшенный switch. <br>
Он возвращает значение и использует строгое сравнение "===".

    $day = 10;
    
    $message = match ($day) {
        "10" => "Начало недели",
        10 => "Тест",
        "среда" => "Середина недели",
        "пятница" => "Скоро выходные",
        default => "Обычный день"
    };
    
    echo $message;

Демонстрация строго сравнения (пустая строка ожидает только пустую строку, "" и 0 не считаются, хотя это false)

    $value = "";
    
    echo match($value) {
        true => "True value",
        false => "False value",
        0 => "Zero",
        "" => "Empty string",
        default => "Some default value"
    };

### Итог. Условия в PHP

| Конструкция                     | Описание                           | Когда использовать?                                  
|--------------------------------|------------------------------------|-------------------------------------------|
| if-else                | Проверяет условия                        | Когда условий немного                                |
| elseif               | Добавляет ещё одно условие           | Когда более двух условий                           |
| Тернарный оператор ?:                       | Сокращённая форма if-else                    | Когда простая проверка  |
| null-объединяющий оператор ??               | Проверяет, существует ли переменная     | Когда нужна проверка isset() |
| switch                          | Проверяет значение на несколько случаев            | Если много elseif    |
| match (PHP 8)                         | Улучшенный switch с '==='       | Если нужен возврат значения                        |


### Массивы 
Массивы - это структура данных, позволяющая хранить несколько значений в одной переменной.

    $carBrands = ["BMW", "Merc", "Skoda", "Toyota", "Nissan", "Kia"];
    echo $carBrands[1];

- В массиве можно хранить различные типы данных:

        $mixedArray = ["Яблоко", "Груша", false, 5, 6, null, "Красный"];
          var_dump($mixedArray);
- Лучше создавать массивы в коллекции, объединённые по смыслу

        $fruits = ["Яблоко", "Груша", "Банан"];
        $colors = ["Синий", "Красный", "Зелёный"];
        $numbers = [1, 2, 3, 4];

- Массивы можно создавать с [], так и с array()

        $nums = array(10, 20, 30);

- Объявление пустого массива:

        $cc = array();
        $cc[] = "Белый"; // Добавление нового элемента в массив
        $cc[] = "Голубой";
        $cc[] = "Фиолетовый";
        
        var_dump($cc);

### foreach
Лучший цикл перебора массива по элементам с целью вывода содержимого на страницу вместо технической распечатки посредством var_dump и print_r <br>
    
    $carBrands = ["BMW", "Merc", "Skoda", "Toyota", "Nissan", "Kia"];
    
    foreach ($carBrands as $brand) {
        echo $brand, "<br>";
    }

- Можно сделать перебор массива с указанием ключей (индексов)

        echo "<ul>";
        foreach ($carBrands as $key => $value) {
            echo "<li>$key => $value</li>";
        }
        echo "</ul>";

### Ассоциативный массив
Ассоциативный массив - это коллекция данных вида ключ-значение, в которой ключем может выступать строка, а не только число.

- Пример использования, где ключем является автор, а значением - книга

        $books = [
            "Фрэнк Герберт" => "Дюна",
            "Фёдор Достоевский" => "Преступление и наказание",
            "Михаил Булгаков" => "Мастер и Маргарита",
            "Лев Толстой" => "Война и мир",
            "Джоан Роулинг" => "Гарри Поттер"
        ];

        var_dump($books);

В ассоциативном массиве нельзя обращаться по индексам (0, 1...)

    echo $books[0]; // ошибка

- Обход массива с помощью foreach

        foreach ($books as $author => $book) {
            echo "{$key}: $value <br>";

Ассоциативный массив может содержать не только коллекции, но и описывать сущности (например, пользователь)

    $user = [
        "name" => "Igor",
        "age" => 28,
        "sex" => "Male",
        "isAdmin" => true
    ];
    
    var_dump($user);

- Пример обхода вложенного списка в качестве значений

        $books = [
            "Фрэнк Герберт" => ["Дюна", "Мисс Дюна", "Дети Дюны"],
              "Фёдор Достоевский" => "Преступление и наказание",
            "Михаил Булгаков" => "Мастер и Маргарита",
            "Лев Толстой" => "Война и мир",
            "Джоан Роулинг" => "Гарри Поттер"
        ];
        
        foreach ($books as $author => $book) {
            if (is_array($book)) {
                $stringFromArray = implode(',', $book)
                echo "<strong>$author: </strong> $stringFromArray <br>";
            } else {
                echo "<strong>$author: </strong> $book <br>";
            }
        };

### Многомерные (двухмерные) массивы
Внутри массива могут содержаться значения, являющиеся массивами. <br>
То есть, в качестве значения одного массива мы используем другой массив. <br> 

    $numbers = [[1, [20, 21, 22], 3], [4, 5, 6], [7, 8, 9]];
    var_dump($numbers);

    echo $numbers[0][1][1] . '<br>'; // Получаем значение 21
    echo $numbers[1][1]; // 5

- Можно брать часть из одного массива и записывать её в переменную

        $anotherNumbers = $numbers[0][1];
        var_dump($anotherNumbers);

- Пример реализации сущности "Пользователь" в ассоциативном многомерном массиве:

        $user = [
            "name" => "Иван",
            "age" => 25,
            "languages" => ["Русский", "Английский", "Китайский"]
        ];

Выводим значения массива:

        echo $user['name'] . '<br><br>'; // Иван
        echo $user['languages'][0] . '<br><br>'; // Русский
       
 Обход двухмерного массива с языками:
       
     foreach ($user["languages"] as $lang) {
                echo $lang . '<br>';
            }

Альтернативный вариант записи в одну строку:

    foreach ($user["languages"] as $lang) echo "$lang <br>";

- Кейс, когда в индексном массиве находится ассоциативный

        $users = [
            ["name" => "Ann", "age" => 28],
            ["name" => "Maria", "age" => 40]
        ];
        
        // Выводим два списка, которые описывают пользователей
        foreach ($users as $user) {
            echo "<ul>";
            foreach ($user as $key => $value) {
                echo "<li>$key: $value</li>";
            }
            echo "</ul>";
        };

Альтернативный вариант предыдущей записи с использованием foreach в одну строку:

    foreach ($users as $user) {
        echo "<ul>";
        foreach ($user as $key => $value) echo "<li>$key: $value</li>";
        echo "</ul>";
    }

- Обход вложенного массива с продуктами

        $foods = [
            'Фрукты' => ["Яблоко", "Банан", "Апельсин", "Груша"],
            'Овощи' => ["Морковь", "Огурец", "Картофель", "Помидор"],
            'Ягоды' => ["Клубника", "Малина", "Черника", "Смородина"]
        ];

        foreach ($foods as $cat => $food) {
            echo "<strong>$cat</strong>";
            echo "<ul>";
            foreach ($food as $item) echo "<li>$item</li>";
            echo "</ul>";
          };

### Функции по работе с массивами

| Функция                     | Описание                           | Пример                                  
|-----------------------------|------------------------------------|---------------------------------|
| count()                     | Возвращает количество элементов    | count($arr);                    |
| array_push()                | ДОБАВЛЯЕТ элемент В КОНЕЦ          | array_push($arr, "Новый");      |
| array_pop()                 | УДАЛЯЕТ ПОСЛЕДНИЙ элемент          | $last = array_pop($arr);        |
| array_shift()               | УДАЛЯЕТ ПЕРВЫЙ элемент             | $last = array_pop($arr);        |
| array_unshift()             | ДОБАВЛЯЕТ элемент В НАЧАЛО         | array_unshift($arr, "Новый");   |
| in_array()                  | Проверяет наличие значения в массиве  | in_array('Яблоко', $fruits); |
| array_keys()                | Получает все ключи                  | array_keys($user);  |
| array_values()              | Получает все значения               | array_values($user);  |
| array_merge()               | Объединяет массивы              | $new = array_merge($arr1, $arr2);  |
| array_slice()               | Вырезает часть массива              | array_slice($arr, 1, 2);   |
| array_reverse()             | Переворачивает массив               | array_reverse($arr);           |
| implode()                   | Создаёт из списка строку              | $str = implode(', ', $arr);  |
| explode()                   | Создаёт из строки список | $arr = explode(', ', $str);     |


### Функции по работе с массивами (примеры)

Исходный массив

    $cities = ["Москва", "Лондон", "Париж", "Берлин", "Токио"];
    var_dump($cities);

- count() - подсчёт количества элементов в массиве

      echo count($cities); // 5

- array_push() - добавить элемент В КОНЕЦ
  
        array_push($cities, "Сидней");
        var_dump($cities);
- array_unshift() - добавить элемент В НАЧАЛО

        array_unshift($cities, "Дублин");
        var_dump($cities);

- in_array() - проверяет наличие элемента в массиве

        $cityToCheck = "Берлин";
        if (in_array($cityToCheck, $cities)) {
            echo "$cityToCheck есть в списке городов.\n";
        } else {
            echo "$cityToCheck нет в списке городов.\n";
        }

- array_merge() - объединение двух массиво в один

        $moreCities = ["Рим", "Барселона", "Амстердам"];
        $cities = array_merge($cities, $moreCities);
        var_dump($cities);

- array_slice() - вырезать часть массива

        $subset = array_slice($cities, 1, 3); // массив, индекс с которого начинаем включая его, количество извлекаемых элементов
        var_dump($subset);

- sort() - сортировка массива по алфавиту (изменяя массив)

        sort($subset);
        var_dump($subset);

- implode() - преобразование элементов массива в строку

        echo implode(', ', $cities); // Дублин, Москва, Лондон, Париж...

- explode() - преобразование строки в массив 

        $string = "Дублин, Москва, Париж, Нью-Йорк";
        $arrayFromString = explode(', ', $string);
        var_dump($arrayFromString);

### Функции для фильтрации данных (array_filter)
array_filter() - фильтрует элементы массива через callback-функцию. <br>
Она позволяет оставить в массиве только те элементы, которые удовлетворяют определённому условию, заданному в cb-функции. <br>

Синтаксис

    array_filter(array $array, callable|null $callback = null, int $flag = 0): array

- array: исходный массив, который нужно отфильтровать
- cb (необязательный): функция обратного вызова, применяемая к каждому элементу массива. Если не указана, будут оставлены все элементы, приводящие к true
- flag (необязательный): определяет передачу значения в cb-функцию. Возможные значения: 
        - `ARRAY_FILTER_USE_BOTH` - передаёт ключ и значение в cb
        - `ARRAY_FILTER_USE_KEY` - передаёт только ключ в cb

Пример использования 

        $phones = [
    [
        "name" => "iPhone 14 PRO",
        "color" => "Чёрный",
        "brand" => "Apple",
        "price" => 1200,
        "storage" => "256GB"
    ],
    [
        "name" => "Samsung 4 MAX",
        "color" => "Белый",
        "brand" => "Samsung",
        "price" => 1100,
        "storage" => "512GB"
    ],
    [
        "name" => "Google Pixel 7",
        "color" => "Красный",
        "brand" => "Google",
        "price" => 900,
        "storage" => "128GB"
    ],
    [
        "name" => "Xiaomi 13 PRO",
        "color" => "Синий",
        "brand" => "Xiaomi",
        "price" => 800,
        "storage" => "256GB"
    ]
    ];

    // cb-функция будет запускаться по очереди для каждого элемента массива
    function filterByPrice($item) {
        // echo $item['price'] . '<br>'; // Получаем цену каждого товара
        
        return $item['price'] <= 1000; // true or false
    
    }
    
    $filtered = array_filter($phones, "filterByPrice");
    var_dump($filtered);
        
Фильтрация массива с использованием cb

    $numbers = [1, 2, 3, 4, 5];

    // CB-функция для фильтрации чётных чисел
    $evenNumbers = array_filter($numbers, function($number) {
        return $number % 2 == 0; // оставляем только чётные числа
    }) 

    print_r($evenNumbers); // Вывод: Array ( [1] => 2 [3] => 4 [5] => 6 )

Фильтрация без использования cb-функций

    $values = [0, 1, 2, false, null, 3, 'hello', ''];

    // Фильтруем массив, оставляя только истинные значения
    $filteredValues = array_filter($values);

    print_r($filteredValues); // Вывод: Array ( [1] => 1 [2] => 2 [5] => 3 [6] => hello )

Использование флага для передачи ключей

    $array = [
        'a' => 1,
        'b' => 2,
        'c' => 3,
        'd' => 4,
    ];

    // Фильтруем массив, оставляя только элементы с чётными ключами
    $filteredArray = array_filter($array, function($value, $key) {
        return $key % 2 == 0; // Оставляем только элементы с чётными ключами
    }, ARRAY_FILTER_USE_BOTH);

    print_r($filteredArray);
