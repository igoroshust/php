### Циклы

#### for
Цикл for - цикл с известным количеством итераций.

    echo "<h6>Start</h6>";

    for ($i = 0; $i <= 5; $i++) {
        echo "$i <br>";
    }
    
    echo "<h6>Finish</h6>";
    
    $cities = ["Москва", "Лондон", "Париж", "Сан-Тропе", "Берлин"];
    
    for ($i = 0; $i < count($cities); $i++) {
        echo "<li>$cities[$i]</li>";
    }

#### while
Цикл while - цикл выполняется, пока условие истино

    $i = 1;
    while ($i <= 5) {
        echo "Итерация № {$i} <br>";
        $i++; // указываем итератор в явном виде
    }

#### do...while
Цикл do...while - гарантирует хотя бы одну итерацию. Первый блок будет выполнен в любом случае, в отличие от while, где для работы сперва проверяется условие.

    $i = 7;
    do {
        echo "Итерация №{$i} <br>";
        $i++;
    } while ($i <= 5);

#### foreach
Цикл foreach - предоставляет возможность удобного обхода элементов массива.

    $fruits = ["Яблоко", "Банан", "Апельсин"];
    
    foreach ($fruits as $key => $value) {
        echo "<li>$key: $value</li>";
    }

Пример с пропуском итерации благодаря continue

            $cities = ["Москва", "Лондон", "Бари"];

    foreach ($cities as $city) {
        if ($city == "Лондон") continue;
        echo $city . '<br>';
    }

### Функции
Функция - именнованный блок кода, который можно многократно вызвать.

Пример функции (внимание на порядок параметров - сначала позиционные, потом - именованные)

    function sayHello($name, $value, $time='rerr') {
    echo "Привет, $name! Добрый $time - $value<br>";
    }
    
    sayHello(Егор', "valueWOW");

    // Пример с изменением расположения именованных параметров
    function sayHello($name, $value, $time='rerr') {
    echo "Привет, $name! Добрый $time - $value<br>";
    }
    
    sayHello(value:"valueWOW", name:'Егор');
    
#### Стрелочные функции (PHP 7.4+)

    // Cигнатура: 
    $<название_переменной> = fn(<$параметр>) => возвращаемый результат;

    // Пример
    $square = fn($x) => $x * $x;
    echo $square(5);

#### Рекурсия

    function factorial($n)
    {
        if ($n == 1) return 1; // Когда доходим до 1, функция возвращает 1 и рекурсия заканчивается
        return $n * factorial($n - 1);
    }
    
    echo factorial(5);

#### return 

    function is_admin($user_role)
    {
        if ($user_role == "guest") {
            echo "Access denied!<br>"; 
            return;
        }
    
        echo "Hello, admin!<br>";
    }
    
    is_admin("admin"); // Hello! Secret data
    is_admin("guest"); // Access deniend

### Локальные и глобальные переменные

    $a = 20;
    $b = 30;
    
    function example()
    {
        global $a, $b; // объявляем глобальную переменную внутри функции для дальнейшей работы с ней
        echo $a + $b;
    }
    
    example();

### Типизация аргументов

    function add(int $a, int $b): int
    {
        echo gettype($a). "<br>";
        echo gettype($b). "<br>";
        return $a / $b;
    }
    
    echo add('10', 5);

### Чистая функция в PHP (Pure Function)
Чистая функция (Pure Function) - это функция, которая всегда возвращает один и тот же результат при одинаковых входных данных и не изменяет внешние переменные (отсутствуют побочные эффекты). 

Основные принципы чистых функций:
- Детерминированность. Функция всегда возвращает одинаковый результат для одинаковых аргументов.
- Отсутствие побочных эффектов. Функция не изменяет глобальные переменные, файлы, базу данных и другие внешние ресурсы.
- Легкость тестирования. Функция зависит только от своих аргументов, поэтому её легко тестировать.

Пример "Чистой функции" (не использует внешние переменные, не изменяет состояние программы, всегда возвращает один результат при одинаковых параметрах)

    function sum(int $a, int $b): int
    {
        return $a + $b;
    }
    
    echo sum(2, 3); // 5
    echo sum(2, 3); // 5

Пример "Нечистой функции" (зависит от внешней переменной $total, при каждом вызове с одинаковым аргументом возвращает разный результат)

    $total = 0;

    function addToTotal($num) {
        global $total;
        $total += $num;
        return $total;
    }
    
    echo addToTotal(5); // 5
    echo addToTotal(5); // 10
    echo addToTotal(5); // 15

### Подключение файлов в PHP: require, include
В PHP есть 4 способа подключить один файл в другой:
- include - подключает файл, но НЕ КРИТИЧНО при ошибке

        include "header.php";
        // include("header.php");
        echo "Основное содержимое";

Если файл `header.php` не найден, PHP выдаст ошибку `Warning`, но код продолжит выполняться.

- require - подключает файл, но КРИТИЧНО при ошибке

        require "header.php";
        // require("header.php");
        
- include_once
- require_once

